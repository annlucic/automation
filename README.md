# Автоматизация в Яндекс.Дзене

**Описание проекта:** В проекте моделируется ситуация, когда необходимо автоматизировать процесс и сделать дашборд. Дашборд позволит автоматизировать регулярную задачу и упростить менеджерам процесс получения данных по взаимодействию пользователей с карточками статей.

**Данные:** бэкап-файл с базы данных PostgreSQL (на период проектирования и тестирования, администраторы БД выделили тестовую базу zen, создали там таблицу log_raw и выгрузили в неё 322 391 записей из основной таблицы логов)

Каждую карточку определяют её тема и источник. Пользователей системы характеризует возрастная категория. Есть три способа взаимодействия пользователей с системой: отображение карточки (show), клик (click), просмотр (view).

В таблице log_raw:

сохранены события за 60 минут;
всего 6 возрастных групп;
встречаются события 3 типов;
есть 25 тем карточек и 26 тем источников.
Проект Яндекс.Практикума

**Задача:** Сделать дашборд, позволяющий ответить на вопросы:

Сколько взаимодействий пользователей с карточками происходит в системе с разбивкой по темам карточек?
Как много карточек генерируют источники с разными темами?
Насколько хорошо пользователи конвертируются из показов карточек в просмотры статей?

Совместно с менеджерами и администраторами баз данных, составлено краткое ТЗ:

1. Бизнес-задача: анализ взаимодействия пользователей с карточками Яндекс.Дзен;
2. Насколько часто предполагается пользоваться дашбордом: не реже, чем раз в неделю;
3. Кто будет основным пользователем дашборда: менеджеры по анализу контента;
4. Состав данных для дашборда:
    - История событий по темам карточек;
    - Разбивка событий по темам источников;
    - Глубина взаимодействия пользователей с карточками (воронка: показ — клик — просмотр);
5. По каким параметрам данные должны группироваться:
    - Дата и время;
    - Тема карточки;
    - Тема источника;
    - Возрастная группа;
    - Тип события;
6. Характер данных:
    - История событий по темам карточек — абсолютные величины с разбивкой по минутам;
    - Разбивка событий по темам источников — относительные величины (% событий);
    - Глубина взаимодействия пользователей с карточками — относительные величины (средний % от показов);
7. Важность: график истории событий по темам карточек важнее всего, он должен занимать не меньше половины площади дашборда;
8. Источники данных для дашборда: cырые данные о событиях взаимодействия пользователей с карточками (таблица log_raw);
9. База данных, в которой будут храниться агрегированные данные: дополнительные агрегированные таблицы в БД zen;
10. Частота обновления данных: один раз в сутки, в полночь по UTC;
11. Какие графики должны отображаться и в каком порядке, какие элементы управления должны быть на дашборде (макет дашборда).

На основании ТЗ на дашборде нужно отобразить:

- Историю событий по минутам с разбивкой по темам карточек;
- Разбивку всех событий по темам источников;
- Усреднённую воронку: уникальные показы -> уникальные клики -> уникальные просмотры.

Кроме того, понадобится обеспечить фильтрацию по времени, темам карточек и возрастным группам.
